<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noel No Cool Show Season 3</title>
    <!-- Tải Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Sử dụng font Inter cho toàn bộ trang */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Thêm font Inter từ Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

        /* --- CSS CHO SPLASH SCREEN --- */

        /* Ẩn nội dung chính ban đầu */
        #main-content {
            opacity: 0;
            transform: translateY(-20px); /* Thêm: trượt từ trên xuống */
            /* Trễ 1.5s (0.5s thu nhỏ + 1s phóng to) */
            transition: opacity 1s ease-out 1.5s, transform 1s ease-out 1.5s;
        }

        /* Lớp phủ Splash Screen */
        #splash-screen {
            position: fixed;
            inset: 0;
            z-index: 50;
            background-color: #024033; /* Màu nền brand-dark-green */
            display: flex;
            align-items: center;
            justify-content: center;
            /* Trễ 0.5s (sau khi logo thu nhỏ) */
            transition: opacity 1s ease-in 0.5s; 
        }

        /* Logo (nơi bạn có thể chèn logo) */
        #splash-logo {
            width: 6rem; /* 96px */
            height: 6rem; /* 96px */
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2; /* Thêm: để logo nổi lên trên */
            /* Hiệu ứng thu nhỏ (EaseInBack) */
            transition: transform 0.5s cubic-bezier(0.6, -0.28, 0.73, 0.04);
        }

        /* Vòng xoay spinner */
        #splash-spinner {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            border-radius: 9999px; /* rounded-full */
            border-width: 4px;
            border-color: #D6AD53; /* brand-gold */
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }
        
        /* Chữ "LOGO" ở giữa (bạn có thể thay bằng thẻ <img>) */
        #splash-logo-inner {
            color: #F9E09D; /* brand-light-gold */
            font-weight: 600; /* semibold */
            font-size: 1.125rem; /* text-lg */
        }

        /* Keyframes cho vòng xoay */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Vòng tròn phóng to MỚI */
        #splash-expander {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 6rem; /* Bằng kích thước logo */
            height: 6rem; /* Bằng kích thước logo */
            border-radius: 50%;
            background-color: #D6AD53; /* brand-gold */
            transform: translate(-50%, -50%) scale(0);
            z-index: 1; /* Dưới logo */
            /* Chuyển động phóng to (trễ 0.5s sau khi logo thu nhỏ) */
            transition: transform 1s cubic-bezier(0.7, 0, 0.3, 1) 0.5s;
        }


        /* --- LỚP TRẠNG THÁI KẾT THÚC (EXIT) --- */

        /* 1. Logo thu nhỏ lại */
        #splash-logo.exit-shrink {
            transform: scale(0);
        }

        /* 2. Vòng tròn phóng to */
        #splash-expander.exit-expand {
            transform: translate(-50%, -50%) scale(50);
        }

        /* 3. Màn hình chờ mờ đi */
        #splash-screen.exit-fade {
            opacity: 0;
        }

        /* 4. Nội dung chính hiện ra */
        #main-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

    </style>
    <script>
        // Định nghĩa bảng màu của bạn trong Tailwind
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-red': '#FF310F',
                        'brand-gold': '#D6AD53',
                        'brand-light-gold': '#F9E09D',
                        'brand-teal': '#00876D',
                        'brand-dark-green': '#024033',
                    }
                }
            }
        }
    </script>
</head>
<body class="relative min-h-screen w-full font-sans bg-brand-dark-green">

    <!-- LỚP SPLASH SCREEN -->
    <div id="splash-screen">
        <!-- Thêm vòng tròn phóng to -->
        <div id="splash-expander"></div>

        <div id="splash-logo">
            <!-- Vòng xoay -->
            <div id="splash-spinner"></div>
            <!-- Thay thế "LOGO" bằng thẻ <img> của bạn nếu muốn -->
            <div id="splash-logo-inner">LOGO</div>
        </div>
    </div>

    <!-- NỘI DUNG CHÍNH (FORM) -->
    <!-- Thêm id="main-content" -->
    <div id="main-content">
        <!-- Lớp nền: Sử dụng màu tối và chèn ảnh nền ở dưới -->
        <!-- Bạn có thể thay đổi URL ảnh này -->
        <div class="absolute inset-0 z-0">
            <div class="absolute inset-0 bg-brand-dark-green"></div>

            <!-- Changed: cho ảnh phủ full màn hình, giữ màu gốc -->
            <div class="absolute inset-0">
                <img src="./IMG/background.png"
                     alt="Background"
                     class="w-full h-full object-cover object-center opacity-50 mix-blend-normal">
            </div>

            <!-- Changed: giảm độ đậm của overlay để ảnh hiện đúng màu -->
            <div class="absolute inset-0 bg-gradient-to-t from-brand-dark-green/20 via-brand-dark-green/10 to-transparent pointer-events-none"></div>
        </div>

        <!-- Lớp nội dung: Form được căn giữa -->
        <!-- Thay đổi p-4 -> p-6 để có đệm cân đối hơn trên mobile -->
        <div class="relative z-10 flex items-center justify-center min-h-screen w-full p-6 md:p-8">

            <!-- Khung Form Glassmorphism -->
            <!-- Thay đổi p-8 -> p-6 (cho mobile) và giữ md:p-10 (cho desktop) -->
            <form id="contact-form" class="w-full max-w-lg p-6 md:p-10 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl">

                <h2 class="text-3xl font-bold text-center text-brand-light-gold mb-8">
                    Thông Tin Đăng Ký
                </h2>

                <!-- Trường: Tên -->
                <div class="mb-5">
                    <label for="Ten" class="block text-brand-light-gold text-sm font-semibold mb-2">Họ và Tên</label>
                    <input type="text" id="Ten" name="Ten" placeholder="Nguyễn Văn A" required
                           class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-brand-gold transition-all duration-300">
                </div>

                <!-- Trường: Tuổi -->
                <div class="mb-5">
                    <label for="Tuoi" class="block text-brand-light-gold text-sm font-semibold mb-2">Tuổi</label>
                    <input type="number" id="Tuoi" name="Tuoi" placeholder="25" required
                           class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-brand-gold transition-all duration-300">
                </div>

                <!-- Trường: Giới tính -->
                <div class="mb-5">
                    <label for="GioiTinh" class="block text-brand-light-gold text-sm font-semibold mb-2">Giới tính</label>
                    <select id="GioiTinh" name="GioiTinh" required
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-brand-gold transition-all duration-300 appearance-none">
                        <option value="" disabled selected class="bg-brand-dark-green">Chọn giới tính</option>
                        <option value="Nam" class="bg-brand-dark-green">Nam</option>
                        <option value="Nữ" class="bg-brand-dark-green">Nữ</option>
                        <option value="Khác" class="bg-brand-dark-green">Khác</option>
                    </select>
                </div>

                <!-- Trường: Số điện thoại -->
                <div class="mb-6">
                    <label for="SoDienThoai" class="block text-brand-light-gold text-sm font-semibold mb-2">Số điện thoại</label>
                    <input type="tel" id="SoDienThoai" name="SoDienThoai" placeholder="090..." required
                           class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-brand-gold transition-all duration-300">
                </div>

                <!-- Nút Gửi -->
                <div>
                    <button type="submit" id="submit-button"
                            class="w-full px-4 py-3 bg-brand-red text-brand-dark-green text-lg font-bold rounded-2xl shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105">
                        Gửi Thông Tin
                    </button>
                </div>

            </form>
        </div>
    </div> <!-- Kết thúc #main-content -->


    <!-- Thông báo (Toast) - ẩn ban đầu -->
    <div id="message-toast" class="fixed bottom-5 right-5 p-4 rounded-xl shadow-lg text-white font-semibold transition-all duration-500 opacity-0 translate-y-10">
        <span id="message-text"></span>
    </div>

    <script>
        // --- LOGIC CHO SPLASH SCREEN ---
        window.addEventListener('load', () => {
            const splashScreen = document.getElementById('splash-screen');
            const splashLogo = document.getElementById('splash-logo');
            const splashExpander = document.getElementById('splash-expander'); // Thêm
            const mainContent = document.getElementById('main-content');
            const spinner = document.getElementById('splash-spinner');

            // Đợi 2 giây sau khi mọi thứ tải xong
            setTimeout(() => {
                // Dừng vòng xoay
                spinner.style.animation = 'none';

                // Kích hoạt tất cả các lớp exit
                // CSS transition-delay sẽ xử lý thứ tự
                splashLogo.classList.add('exit-shrink');
                splashExpander.classList.add('exit-expand');
                splashScreen.classList.add('exit-fade');
                mainContent.classList.add('visible');

                // Sau khi hiệu ứng transition kết thúc, ẩn hoàn toàn splash screen
                splashScreen.addEventListener('transitionend', (e) => {
                    // Chỉ bắt sự kiện 'opacity' để tránh bị kích hoạt bởi transform
                    if (e.propertyName === 'opacity') {
                        splashScreen.style.display = 'none';
                    }
                }); 

            }, 2000); // 2 giây
        });


        // --- PHẦN JAVASCRIPT ĐỂ GỬI DATA VỀ GOOGLE SHEET ---

        // BƯỚC 6: Dán URL Web App của bạn vào đây
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzfH61O-62OZnn5A2M_R14HLQsYlHDWC_21KrR38ZNIN0q1ou49G16SURNNsB_BIqvf/exec';

        const form = document.getElementById('contact-form');
        const submitButton = document.getElementById('submit-button');
        const messageToast = document.getElementById('message-toast');
        const messageText = document.getElementById('message-text');

        form.addEventListener('submit', function(e) {
            e.preventDefault(); // Ngăn form gửi theo cách truyền thống

            // Vô hiệu hóa nút và hiển thị trạng thái đang gửi
            submitButton.disabled = true;
            submitButton.textContent = 'Đang gửi...';

            const formData = new FormData(form);

            // Gửi dữ liệu đến Google Apps Script
            fetch(SCRIPT_URL, {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.result === 'success') {
                    // Gửi thành công
                    showMessage('Gửi thông tin thành công!', 'success');
                    form.reset(); // Xóa rỗng form
                } else {
                    // Có lỗi xảy ra
                    console.error('Error from Apps Script:', data.error);
                    showMessage('Gửi thất bại. Vui lòng thử lại.', 'error');
                }
            })
            .catch(error => {
                // Lỗi mạng hoặc fetch
                console.error('Fetch Error:', error);
                showMessage('Lỗi kết nối. Vui lòng thử lại.', 'error');
            })
            .finally(() => {
                // Kích hoạt lại nút
                submitButton.disabled = false;
                submitButton.textContent = 'Gửi Thông Tin';
            });
        });

        // Hàm hiển thị thông báo
        function showMessage(message, type) {
            messageText.textContent = message;

            // Đặt màu sắc dựa trên loại thông báo
            if (type === 'success') {
                messageToast.classList.remove('bg-brand-red');
                messageToast.classList.add('bg-brand-teal');
            } else {
                messageToast.classList.remove('bg-brand-teal');
                messageToast.classList.add('bg-brand-red');
            }

            // Hiển thị thông báo
            messageToast.classList.remove('opacity-0', 'translate-y-10');
            messageToast.classList.add('opacity-100', 'translate-y-0');

            // Ẩn sau 3 giây
            setTimeout(() => {
                messageToast.classList.remove('opacity-100', 'translate-y-0');
                messageToast.classList.add('opacity-0', 'translate-y-10');
            }, 3000);
        }

    </script>
</body>
</html>



